package generator_ni;

import org.openqa.selenium.*;
import org.openqa.selenium.firefox.*;
import org.openqa.selenium.By;
import java.util.List;

public class SeleniumFindLinksTest {
	
	public static void main(String[] args) throws InterruptedException {
		
		System.setProperty("webdriver.gecko.driver", "geckodriver.exe");
		WebDriver driver = new FirefoxDriver();
		driver.get("https://vidazoldseges.hu");
		List <WebElement> links = driver.findElements(By.tagName("a"));                 
		int linkCount=links.size();

		System.out.println("Total number of page on the webpage:"+ linkCount);
		String[] texts=new String[linkCount];
		int t=0;
		for (WebElement text:links){
		  texts[t]=text.getText();//extract text from link and put in Array
		  //System.out.println(texts[t]);
		  t++;
		}
		for (String clicks:texts) {

		  driver.findElement(By.linkText(clicks)).click();
		  if (driver.getTitle().equals("notWorkingUrlTitle" )) {
		    System.out.println("\"" + t + "\""
		    + " is not working.");
		  } else {
		    System.out.println("\"" + t + "\""
		                       + " is working.");
		  }

		  driver.navigate().back();
		}

		driver.quit();
		
	}

}
